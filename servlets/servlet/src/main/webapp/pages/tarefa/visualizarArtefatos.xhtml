<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/pages/templates/sigprLayout.xhtml"
   	xmlns="http://www.w3.org/1999/xhtml"   
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.prime.com.tr/ui">
   	<ui:define name="content">
   		<br />
   		<h:form styleClass="form">
			<p:fieldset legend="Informa&ccedil;&otilde;es do Artefato">
				<br />
	   			<p>
	   				<h:outputLabel for="nomeArtefato" value="Nome Artefato:" escape="false" />
   					<h:outputText id="nomeArtefato" value="#{tarefasAtribuidasMBean.artefato.nome}" />
				</p>
				<p>
					<h:outputLabel for="descricao" value="Descri&ccedil;&atilde;o:" escape="false" />
   					<h:outputText id="descricao" value="#{tarefasAtribuidasMBean.artefato.descricao}" escape="false"/>
	   			</p>
			</p:fieldset>
			<br/>
			<p:fieldset legend="Arquivos">
				<br/>
				<p:dataTable 
	   				id="listaArquivos"
	   				value="#{tarefasAtribuidasMBean.listaArquivos}" 
	   				var="arquivo" 
	   				emptyMessage="Não foram encontrados Arquivos cadastrados para o Artefato selecionado.">
	   				<p:column headerText="Nome">
	   					<h:outputText value="#{arquivo.fileName}" />
	   				</p:column>
	   				<p:column headerText="Tamanho">
	   					<h:outputText value="#{arquivo.fileSize}">
	   						<f:converter converterId="fileSizeConverter" />
	   					</h:outputText>
	   				</p:column>
	   				<p:column headerText="Extensão">
	   					<h:outputText value="#{arquivo.fileType}"/>
	   				</p:column>
	   				<p:column headerText="Opera&ccedil;&otilde;es">
	   					<p:commandButton ajax="false" image="ui-icon-arrowreturnthick-1-s" title="Baixar" actionListener="#{tarefasAtribuidasMBean.handleFileDownload(arquivo)}">
	   						<p:fileDownload value="#{tarefasAtribuidasMBean.fileDownload}" />
	   					</p:commandButton>
	   				</p:column>
	   			</p:dataTable>
	   			<br />
				<p:commandButton value="Voltar" type="submit" action="#{tarefasAtribuidasMBean.voltarVisualizarTarefa}" ajax="false" />
			</p:fieldset>
   		</h:form>
   	</ui:define>
</ui:composition>

